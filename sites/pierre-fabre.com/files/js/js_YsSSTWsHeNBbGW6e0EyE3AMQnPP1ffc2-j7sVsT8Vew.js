(function(Drupal){'use strict';Drupal.behaviors.geolocationMarkerInfoWindow={attach:function(context,drupalSettings){Drupal.geolocation.executeFeatureOnAllMaps('marker_infowindow',function(map,featureSettings){map.addMarkerAddedCallback(function(currentMarker){if(typeof(currentMarker.locationWrapper)==='undefined')return;var content=currentMarker.locationWrapper.find('.location-content');if(content.length<1)return;content=content.html();var markerInfoWindow={content:content.toString(),disableAutoPan:featureSettings.disableAutoPan};if(featureSettings.maxWidth>0)markerInfoWindow.maxWidth=featureSettings.maxWidth;var currentInfoWindow=new google.maps.InfoWindow(markerInfoWindow);currentMarker.addListener('click',function(){if(featureSettings.infoWindowSolitary){if(typeof map.infoWindow!=='undefined')map.infoWindow.close();map.infoWindow=currentInfoWindow};currentInfoWindow.open(map.googleMap,currentMarker)});if(featureSettings.infoAutoDisplay)google.maps.event.addListenerOnce(map.googleMap,'tilesloaded',function(){google.maps.event.trigger(currentMarker,'click')})});return true},drupalSettings)},detach:function(context,drupalSettings){}}})(Drupal);
(function($,Drupal){'use strict';Drupal.behaviors.geolocationMapRestriction={attach:function(context,drupalSettings){Drupal.geolocation.executeFeatureOnAllMaps('map_restriction',function(map,featureSettings){map.addInitializedCallback(function(map){map.googleMap.setOptions({restriction:{latLngBounds:{north:parseFloat(featureSettings.north),south:parseFloat(featureSettings.south),east:parseFloat(featureSettings.east),west:parseFloat(featureSettings.west)},strictBounds:Boolean(featureSettings.strict)}})});return true},drupalSettings)},detach:function(context,drupalSettings){}}})(jQuery,Drupal);
